function getLocations(t,e){if("countries"==t){$(".form-response-overlay").fadeIn(100);var n=route_contact_states,a=$('form select[name="states"]')}else{if("states"!=t)return!1;$(".form-response-overlay").fadeIn(100);var n=route_contact_cities,a=$('form select[name="cities"]')}$(this).ajaxSubmit({url:n,type:"post",data:{id:e},success:function(e){if($.isEmptyObject(e))a.siblings("input").length>0?a.siblings("input").show():a.before('<input required="required" class="form-control" placeholder="'+a.attr("title")+'" name="txt_'+a.attr("name")+'" type="text">'),a.hide();else{options="<option selected>"+a.attr("title")+"</option>";for(var n in e)options+='<option value="'+n+'">'+e[n]+"</option>";a.siblings("input").remove(),a.html(options).show().removeAttr("disabled")}"countries"==t&&$('form select[name="cities"]').hide().siblings("input").remove(),$(".form-response-overlay").fadeOut(100)},error:function(){console.log("ERROR geting location"),$(".form-response-overlay").fadeOut(100)}})}function campaignFormBind(){var t=$('.action_checkbox[value="3"]').parent().parent();$(".category_checkbox").on("click",function(e){var n=$(this);43==n.val()&&(n.is(":checked")?t.css("display","none").find('input[type="checkbox"]').attr("name","asdzxcqwe"):t.css("display","").find('input[type="checkbox"]').attr("name","actions[]"))}),$('form input[type="text"]').off("blur").on("blur",function(t){var e=$(this);e.val()?e.addClass("open"):e.removeClass("open")}),""!=$('form select[name="countries"').val()&&void 0!=$('form  select[name="countries"').val()&&getLocations($('form select[name="countries"').attr("name"),$('form  select[name="countries"').val()),$("form select").off("change").on("change",function(){getLocations($(this).attr("name"),$(this).val())}),$("form *").off("focus").on("focus",function(){$(this).removeClass("error")}),$("form").off("submit").on("submit",function(t){t.preventDefault();var e=$(this),n="contact";e.hasClass("task")?n="task."+window.location.href.split("/").pop():e.hasClass("category")&&(n="category."+window.location.href.split("/").pop());var a=$(this).closest("form"),o=a.find(".form-response-overlay");o.html("Cargando..").fadeIn(100),a.find(".alert-danger").html(""),$(this).ajaxSubmit({url:route_contact_store,type:"post",data:JSON.stringify($(this).serialize()),complete:function(){},success:function(t){a.find(".form-header h4").html("Muchas gracias!"),o.html(t),$.cookie("user_known","1",{expires:365,path:"/"}),ga("send","event","contact","form.sent",n)},error:function(t){o.fadeOut(100);var e="";if(422==t.status){var i=JSON.parse(t.responseText.match("\\{.*}")[0]);$.each(i,function(t,n){e+="-"+n+"<br>",a.find(' *[name="'+t+'"]').addClass("error")}),ga("send","event","contact","validation.error",n)}else ga("send","event","contact","error",n),e=t;a.find(".alert-danger").html(e).slideDown()}})})}function getLocations(t,e){if("countries"==t){$(".form-response-overlay").fadeIn(100);var n=route_contact_states,a=$('.contact-form select[name="states"]')}else{if("states"!=t)return!1;$(".form-response-overlay").fadeIn(100);var n=route_contact_cities,a=$('.contact-form select[name="cities"]')}$(this).ajaxSubmit({url:n,type:"post",data:{id:e},success:function(e){if($.isEmptyObject(e))a.siblings("input").length>0?a.siblings("input").show():a.before('<input required="required" class="form-control" placeholder="'+a.attr("title")+'" name="txt_'+a.attr("name")+'" type="text">'),a.hide();else{options="<option selected>"+a.attr("title")+"</option>";for(var n in e)options+='<option value="'+n+'">'+e[n]+"</option>";a.siblings("input").remove(),a.html(options).show().removeAttr("disabled")}"countries"==t&&$('.contact-form select[name="cities"]').hide().siblings("input").remove(),$(".form-response-overlay").fadeOut(100)},error:function(){console.log("ERROR geting location"),$(".form-response-overlay").fadeOut(100)}})}function contactFormBind(){var t=$('.action_checkbox[value="3"]').parent().parent();$(".category_checkbox").on("click",function(e){var n=$(this);43==n.val()&&(n.is(":checked")?t.css("display","none").find('input[type="checkbox"]').attr("name","asdzxcqwe"):t.css("display","").find('input[type="checkbox"]').attr("name","actions[]"))}),$('form.contact-form input[type="text"]').off("blur").on("blur",function(t){var e=$(this);e.val()?e.addClass("open"):e.removeClass("open")}),""!=$('form.contact-form select[name="countries"').val()&&void 0!=$('.contact-form  select[name="countries"').val()&&getLocations($('.contact-form select[name="countries"').attr("name"),$('.contact-form  select[name="countries"').val()),$("form.contact-form select").off("change").on("change",function(){getLocations($(this).attr("name"),$(this).val())}),$("form.contact-form *").off("focus").on("focus",function(){$(this).removeClass("error")}),$("form.contact-form").off("submit").on("submit",function(t){t.preventDefault();var e=$(this),n="contact";e.hasClass("task")?n="task."+window.location.href.split("/").pop():e.hasClass("category")&&(n="category."+window.location.href.split("/").pop());var a=$(this).closest("form.contact-form"),o=a.find(".form-response-overlay");o.html("Cargando..").fadeIn(100),a.find(".alert-danger").html(""),$(this).ajaxSubmit({url:route_contact_store,type:"post",data:JSON.stringify($(this).serialize()),complete:function(){},success:function(t){a.find(".form-header h4").html("Muchas gracias!"),o.html(t),$.cookie("user_known","1",{expires:365,path:"/"}),ga("send","event","contact","form.sent",n)},error:function(t){o.fadeOut(100);var e="";if(422==t.status){var i=JSON.parse(t.responseText.match("\\{.*}")[0]);$.each(i,function(t,n){e+="-"+n+"<br>",a.find(' *[name="'+t+'"]').addClass("error")}),ga("send","event","contact","validation.error",n)}else ga("send","event","contact","error",n),e=t;a.find(".alert-danger").html(e).slideDown()}})})}function pageStart(){startAnimation()}var wh=0;$(function(){wh=$(window).height(),$(window).trigger("scroll")}),$(window).on("scroll",function(){$(window).scrollTop();$("header").hasClass("always")&&$("header").addClass("small")}),$(window).on("resize",function(t){wh=$(window).height()}),$(function(){mobileFastClick(),mobileMenu(),mainMenu(),mobileBtnClick(),mobileClickSubMenus(),mobileMenuOutsideClick(),windowResize(),windowScroll(),scrlTop(),bindWaypoints(),$("#home_developments").length>0&&$("#home_developments").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||(setTimeout(animateTask,200),$(this).addClass("animated"))},{offset:"75%"})});var isiPad=function(){return navigator.platform.indexOf("iPad")!=-1},isiPhone=function(){return navigator.platform.indexOf("iPhone")!=-1||navigator.platform.indexOf("iPod")!=-1},mobileMenu=function(){if($(window).width()<769)if($("html,body").addClass("intranet-overflow"),$("#intranet-mobile-menu").length<1){var t=$("#intranet-primary-menu").clone().attr({id:"intranet-mobile-menu-ul","class":""}),e=$("#intranet-logo").clone().attr({id:"intranet-logo-mobile","class":""});$('<div id="intranet-logo-mobile-wrap">').append(e).insertBefore("#intranet-header-section"),$("#intranet-logo-mobile-wrap").append('<a href="#" class="js-intranet-nav-toggle intranet-nav-toggle" data-toggle="collapse" data-target="#intranet-navbar" aria-expanded="false" aria-controls="navbar"><i></i></a>'),$('<div id="intranet-mobile-menu">').append(t).insertBefore("#intranet-header-section"),$("#intranet-header-section").hide(),$("#intranet-logo-mobile-wrap").show()}else $("#intranet-header-section").hide(),$("#intranet-logo-mobile-wrap").show();else $("#intranet-logo-mobile-wrap").hide(),$("#intranet-header-section").show(),$("html,body").removeClass("intranet-overflow"),$(".js-intranet-nav-toggle").removeClass("active"),$("body").hasClass("intranet-mobile-menu-visible")&&$("body").removeClass("intranet-mobile-menu-visible")},scrlTop=function(){$(".intranet-gotop").click(function(t){return $("html, body").animate({scrollTop:0},500,"easeInOutExpo"),t.preventDefault(),!1})},mobileMenuOutsideClick=function(){$(document).click(function(t){var e=$("#intranet-mobile-menu, .js-intranet-nav-toggle");e.is(t.target)||0!==e.has(t.target).length||($("body").removeClass("intranet-mobile-menu-visible"),$(".js-intranet-nav-toggle").removeClass("active"))})},mobileBtnClick=function(){$(document).on("click",".js-intranet-nav-toggle",function(t){t.preventDefault(),$("body").hasClass("intranet-mobile-menu-visible")?($("body").removeClass("intranet-mobile-menu-visible"),$(this).removeClass("active")):($("body").addClass("intranet-mobile-menu-visible"),$(this).addClass("active"))})},mainMenu=function(){$("#intranet-primary-menu").superfish({delay:0,animation:{opacity:"show"},speed:"fast",cssArrows:!0,disableHI:!0})},mobileClickSubMenus=function(){$("body").on("click",".intranet-sub-ddown",function(t){t.preventDefault();var e=$(this),n=e.closest("li");n.find("> .intranet-sub-menu").slideToggle(200)})},windowResize=function(){$(window).resize(function(){mobileMenu()})},windowScroll=function(){$(window).scroll(function(){$(this).scrollTop();$("body").hasClass("intranet-mobile-menu-visible")&&($("body").removeClass("intranet-mobile-menu-visible"),$(".js-intranet-nav-toggle").removeClass("active"))})},mobileFastClick=function(){isiPad()&&isiPhone()&&FastClick.attach(document.body)},animateFeature=function(){$(".feature-box").length>0&&$(".feature-box").each(function(t){var e=$(this);setTimeout(function(){e.addClass("fadeInUp animated")},200*t,"easeInOutExpo")})},animateAbout=function(){$(".about-box").length>0&&$(".about-box").each(function(t){var e=$(this);setTimeout(function(){e.addClass("fadeInUp animated")},200*t,"easeInOutExpo")})},animateWork=function(){$(".work-box").length>0&&$(".work-box").each(function(t){var e=$(this);setTimeout(function(){e.addClass("fadeInDown animated")},200*t,"easeInOutExpo")})},animateTask=function(){$(".task-box").length>0&&$(".task-box").each(function(t){var e=$(this);setTimeout(function(){e.addClass("fadeInUp animated")},200*t,"easeInOutExpo")})},animateFooter=function(){$(".footer-box").each(function(t){var e=$(this);setTimeout(function(){e.addClass("fadeInUp animated")},200*t,"easeInOutExpo")})},animateSlogan=function(){$(".in-animate").length>0&&$(".in-animate").each(function(t){var e=$(this);setTimeout(function(){e.addClass("fadeInUp animated")},200*t,"easeInOutExpo")})},animateTestimonials=function(){$(".anim-testimonials").length>0&&$(".anim-testimonials").each(function(t){var e=$(this);setTimeout(function(){e.addClass("fadeInUp animated")},200*t,"easeInOutExpo")})},bindWaypoints=function(){$("#intranet-features").length>0&&$("#intranet-features").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||(setTimeout(animateFeature,200),$(this).addClass("animated"))},{offset:"75%"}),$("#intranet_about").length>0&&$("#intranet_about").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||(setTimeout(animateAbout,200),$(this).addClass("animated"))},{offset:"75%"}),$("#intranet_clients").length>0&&$("#intranet_clients").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||(setTimeout(animateWork,200),$(this).addClass("animated"))},{offset:"75%"}),$("#intranet_slogan").length>0&&$("#intranet_slogan").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||(setTimeout(animateSlogan,200),$(this).addClass("animated"))},{offset:"95%"}),$("#intranet_testimonials").length>0&&$("#intranet_testimonials").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||(setTimeout(animateTestimonials,200),$(this).addClass("animated"))},{offset:"95%"}),$("#intranet-footer").length>0&&$("#intranet-footer").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||(setTimeout(animateFooter,200),$(this).addClass("animated"))},{offset:"95%"})},startAnimation=function(){$(".intranet-parallax-cover").length>0&&(setTimeout(function(){$(".intranet-cover-title").addClass("fadeInUp animated")},100),setTimeout(function(){$(".intranet-cover-subtitle").addClass("fadeInUp animated")},400),setTimeout(function(){$(".intranet-cover-cta").addClass("fadeInUp animated")},600),$(this).addClass("animated"))},contentWayPoint=function(){$(".animate-box").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||$(this.element).addClass("fadeInUp animated")},{offset:"75%"}),$(".animate-box").waypoint(function(t){"down"!==t||$(this).hasClass("animated")||$(this.element).addClass("fadeInUp animated")},{offset:"75%"})};